{% load static %}

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}پلنیکا{% endblock %}</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/vazirmatn@33.0.3/Vazirmatn-font-face.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">

<style>

:root {
    --primary-color: #4361ee;
    --success-color: #4caf50;
}

html, body {
    margin: 0;
    padding: 0;
    font-family: 'Vazirmatn', Tahoma, Arial, sans-serif;
    background-color: #f4f7f9;
    color: #333;
    line-height: 1.6;
}

body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    direction: rtl;
}

.navbar, footer {
    background-color: #1F5C72;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar-brand, .nav-link { color: white !important; }

/* START: Style changes for disabled links */
.navbar-nav .nav-link.disabled {
    color: rgba(255, 255, 255, 0.5) !important;
}

/* This wrapper makes the popover work on a disabled element */
.disabled-wrapper {
    cursor: not-allowed;
    display: inline-block; /* Important for positioning */
}
/* END: Style changes for disabled links */


h1,h2,h3,h4,h5,h6 { color: var(--primary-color); }

.btn { border-radius: 30px; }

input.form-control,
select.form-select {
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    padding: 12px 15px;
    transition: all 0.3s ease;
}

input.form-control:focus,
select.form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
}

main { flex-grow: 1; }

footer { color: white; padding: 20px 0; text-align: center; }

.fade-in { animation: fadeIn 0.5s; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

</style>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-WT4MPVMC00"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-WT4MPVMC00'); </script> {% block extra_head %}{% endblock extra_head %}
</head>

<body class="{% block body_class %}{% endblock %}">

<nav class="navbar navbar-expand-lg navbar-dark">
<div class="container">
<img src="{% static 'images/logo.png' %}" alt="Logo" width="45" height="45" class="me-3">
<a class="navbar-brand" href="/">پلنیکا</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse justify-content-end" id="navbarNav">
<ul class="navbar-nav">
{% if user.is_authenticated %}
    <li class="nav-item"><a class="nav-link" href="{% url 'user_profile' %}">پروفایل من</a></li>
    <li class="nav-item"><a class="nav-link" href="{% url 'reviews:review_page' %}">ثبت نظر</a></li>
    <li class="nav-item"><a class="nav-link" href="{% url 'articles:category_list' %}">مقالات</a></li>
{% else %}
    <li class="nav-item">
        <span class="disabled-wrapper" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="bottom" title="نیاز به ورود" data-bs-content="برای ثبت نظر، ابتدا وارد حساب کاربری خود شوید یا ثبت‌نام کنید.">
            <a class="nav-link disabled" style="pointer-events: none;">ثبت نظر</a>
        </span>
    </li>
    <li class="nav-item">
        <span class="disabled-wrapper" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-placement="bottom" title="نیاز به ورود" data-bs-content="برای مشاهده مقالات، ابتدا وارد حساب کاربری خود شوید یا ثبت‌نام کنید.">
            <a class="nav-link disabled" style="pointer-events: none;">مقالات</a>
        </span>
    </li>
    <li class="nav-item"><a class="nav-link" href="{% url 'account_login' %}">ورود / ثبت نام</a></li>
{% endif %}

<li class="nav-item"><a class="nav-link" href="{% url 'core:about_us' %}">درباره ما</a></li>
<li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">تحلیل آزمون</a></li>
</ul>
</div>
</div>
</nav>

<main>{% block content %}{% endblock %}</main>

<footer class="mt-auto">
<div class="container">
<p class="mb-0">© {% now "Y" %} | تمامی حقوق برای تیم پلنیکا محفوظ است.</p>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
  return new bootstrap.Popover(popoverTriggerEl)
})
</script>
</body>
</html>